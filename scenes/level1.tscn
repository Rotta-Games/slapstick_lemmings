[gd_scene load_steps=31 format=3 uid="uid://bwrp6sw056fs7"]

[ext_resource type="Script" path="res://scripts/level_handler.gd" id="1_2gjpj"]
[ext_resource type="Texture2D" uid="uid://dclw16bd4s4qa" path="res://assets/gfx/bg2.png" id="2_18li8"]
[ext_resource type="Texture2D" uid="uid://bq4yi72pf8pjx" path="res://assets/gfx/script.png" id="3_7opkd"]
[ext_resource type="Texture2D" uid="uid://bghtigui03ibl" path="res://assets/gfx/script2.png" id="4_cceq8"]
[ext_resource type="Texture2D" uid="uid://cow2bdqm7ldcq" path="res://assets/gfx/items-shieet.png" id="5_huhmk"]
[ext_resource type="Script" path="res://drag_item.gd" id="6_e4de6"]
[ext_resource type="PackedScene" uid="uid://dhm3olaboa48h" path="res://scenes/props/banana.tscn" id="7_e1ffk"]
[ext_resource type="PackedScene" uid="uid://d078k3p4ef5wd" path="res://scenes/props/anvil.tscn" id="8_7f12l"]
[ext_resource type="PackedScene" uid="uid://b0il1v6emjqf5" path="res://scenes/props/cannon.tscn" id="9_6esxx"]
[ext_resource type="Texture2D" uid="uid://bavw3phktgm06" path="res://assets/gfx/stem_boot_willy.png" id="10_2yaod"]
[ext_resource type="PackedScene" uid="uid://cydjsftkpev4n" path="res://scenes/props/piemaster.tscn" id="11_gxnt7"]
[ext_resource type="PackedScene" uid="uid://dvjtik7bc6gmv" path="res://scenes/player.tscn" id="12_o2law"]
[ext_resource type="Texture2D" uid="uid://7bdd6nuiab37" path="res://assets/gfx/crate.png" id="13_7rnd3"]
[ext_resource type="AudioStream" uid="uid://b3qai6rbm06sy" path="res://assets/music/ggj24_ragtime_1_160.mp3" id="14_0wqwg"]
[ext_resource type="PackedScene" path="res://scenes/AROOOGA.tscn" id="15_e4lp2"]
[ext_resource type="PackedScene" path="res://scenes/money_handler.tscn" id="16_yw5oi"]
[ext_resource type="Script" path="res://LaughMeter.gd" id="17_f5mso"]
[ext_resource type="PackedScene" uid="uid://cqgtk4u0ii3ea" path="res://scenes/utils/end_portal.tscn" id="18_1clqk"]
[ext_resource type="PackedScene" uid="uid://1ilalqgy567b" path="res://scenes/utils/end_text.tscn" id="19_adhuh"]

[sub_resource type="AtlasTexture" id="AtlasTexture_t1lmf"]
atlas = ExtResource("5_huhmk")
region = Rect2(70, 41, 46, 29)

[sub_resource type="AtlasTexture" id="AtlasTexture_hhbv6"]
atlas = ExtResource("5_huhmk")
region = Rect2(122.38, 17.1914, 74.1747, 51.7823)

[sub_resource type="AtlasTexture" id="AtlasTexture_30rxl"]
atlas = ExtResource("5_huhmk")
region = Rect2(253.756, 12.3058, 73.7082, 58.7799)

[sub_resource type="AtlasTexture" id="AtlasTexture_jtqui"]
atlas = ExtResource("10_2yaod")
region = Rect2(0.54834, -0.4533, 62.6053, 64.6379)

[sub_resource type="Theme" id="Theme_qbbol"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_giw7m"]
size = Vector2(689, 44.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mneii"]
size = Vector2(689, 44.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pf5mq"]
size = Vector2(700, 249.75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pyia4"]
size = Vector2(653, 44)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ggdbf"]
size = Vector2(207.656, 386.667)

[sub_resource type="LabelSettings" id="LabelSettings_81ycc"]
font_size = 10

[node name="Node2D" type="Node2D"]
script = ExtResource("1_2gjpj")

[node name="TextureRect" type="TextureRect" parent="."]
offset_top = -1.0
offset_right = 959.0
offset_bottom = 544.0
texture = ExtResource("2_18li8")
metadata/_edit_lock_ = true

[node name="DragUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = 872.0
offset_top = -8.0
offset_right = 912.0
offset_bottom = 32.0

[node name="ColorRect" type="TextureRect" parent="DragUI"]
z_index = 1
texture_repeat = 2
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -16.0
offset_top = 8.0
offset_right = 48.0
offset_bottom = 134.0
grow_horizontal = 0
size_flags_horizontal = 8
texture = ExtResource("3_7opkd")
expand_mode = 4

[node name="TextureRect" type="TextureRect" parent="DragUI/ColorRect"]
z_index = 1
layout_mode = 2
offset_left = 1.0
offset_top = 126.0
offset_right = 68.0
offset_bottom = 555.0
texture = ExtResource("4_cceq8")

[node name="ItemContainer" type="VBoxContainer" parent="DragUI/ColorRect"]
z_index = 1
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -37.0
offset_top = 40.0
offset_right = 37.0
offset_bottom = 186.0
grow_horizontal = 2

[node name="Bannaani" type="TextureRect" parent="DragUI/ColorRect/ItemContainer"]
layout_mode = 2
texture = SubResource("AtlasTexture_t1lmf")
script = ExtResource("6_e4de6")
item_scene = ExtResource("7_e1ffk")

[node name="Alasi" type="TextureRect" parent="DragUI/ColorRect/ItemContainer"]
layout_mode = 2
texture = SubResource("AtlasTexture_hhbv6")
script = ExtResource("6_e4de6")
item_scene = ExtResource("8_7f12l")
price = 30

[node name="Kannuuna" type="TextureRect" parent="DragUI/ColorRect/ItemContainer"]
layout_mode = 2
texture = SubResource("AtlasTexture_30rxl")
script = ExtResource("6_e4de6")
item_scene = ExtResource("9_6esxx")
price = 40

[node name="Kannuuna2" type="TextureRect" parent="DragUI/ColorRect/ItemContainer"]
layout_mode = 2
texture = SubResource("AtlasTexture_30rxl")
flip_h = true
flip_v = true
script = ExtResource("6_e4de6")
item_scene = ExtResource("9_6esxx")
price = 40

[node name="PiirakkaMestari" type="TextureRect" parent="DragUI/ColorRect/ItemContainer"]
layout_mode = 2
texture = SubResource("AtlasTexture_jtqui")
script = ExtResource("6_e4de6")
item_scene = ExtResource("11_gxnt7")
price = 40

[node name="Money" type="Label" parent="DragUI"]
z_index = 1
layout_mode = 0
offset_left = 26.0
offset_top = 16.0
offset_right = 66.0
offset_bottom = 39.0
scale = Vector2(1.51999, 1)
theme = SubResource("Theme_qbbol")
theme_override_font_sizes/font_size = 10
horizontal_alignment = 1
autowrap_mode = 3

[node name="Player" parent="." instance=ExtResource("12_o2law")]
position = Vector2(46, 32)

[node name="Walls" type="Node2D" parent="."]

[node name="TopFloor" type="Polygon2D" parent="Walls"]
texture_repeat = 2
position = Vector2(0, 93)
texture = ExtResource("13_7rnd3")
polygon = PackedVector2Array(0, 0, 700, 0, 700, 45, 700, 45, 74.629, 45, 0, 45)

[node name="FloorBody" type="StaticBody2D" parent="Walls/TopFloor"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/TopFloor/FloorBody"]
position = Vector2(356.5, 22.75)
shape = SubResource("RectangleShape2D_giw7m")
metadata/_edit_lock_ = true

[node name="Roof" type="Polygon2D" parent="Walls"]
texture_repeat = 2
position = Vector2(11, -48)
scale = Vector2(1.26, 1)
texture = ExtResource("13_7rnd3")
polygon = PackedVector2Array(0, 0, 700, 0, 700, 23.2038, 700, 45, 700, 45, 74.629, 45, 0, 45)

[node name="RoofBody" type="StaticBody2D" parent="Walls/Roof"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/Roof/RoofBody"]
position = Vector2(356.5, 22.75)
shape = SubResource("RectangleShape2D_mneii")
metadata/_edit_lock_ = true

[node name="LeftWall" type="Polygon2D" parent="Walls"]
texture_repeat = 2
position = Vector2(-18, 553)
rotation = -1.5708
texture = ExtResource("13_7rnd3")
polygon = PackedVector2Array(0, 0, 700, 0, 700, 23, 700, 45, 700, 45, 74.629, 45, 0, 45)

[node name="FloorBody" type="StaticBody2D" parent="Walls/LeftWall"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/LeftWall/FloorBody"]
position = Vector2(351, -79.9987)
shape = SubResource("RectangleShape2D_pf5mq")
metadata/_edit_lock_ = true

[node name="RightWall" type="Polygon2D" parent="Walls"]
z_index = 1
texture_repeat = 2
position = Vector2(851, 552)
rotation = -1.5708
texture = ExtResource("13_7rnd3")
texture_scale = Vector2(-1, -1)
polygon = PackedVector2Array(0, 0, 700, 0, 700, 23, 700, 45, 700, 45, 74.629, 45, 0, 45)

[node name="FloorBody" type="StaticBody2D" parent="Walls/RightWall"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/RightWall/FloorBody"]
position = Vector2(352, 124.126)
shape = SubResource("RectangleShape2D_pf5mq")
metadata/_edit_lock_ = true

[node name="BottomFloor" type="Polygon2D" parent="Walls"]
texture_repeat = 2
position = Vector2(203, 289)
texture = ExtResource("13_7rnd3")
polygon = PackedVector2Array(0, 0, 700, 0, 700, 45, 700, 45, 74.629, 45, 0, 45)

[node name="FloorBody" type="StaticBody2D" parent="Walls/BottomFloor"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/BottomFloor/FloorBody"]
position = Vector2(324.5, 22)
shape = SubResource("RectangleShape2D_pyia4")
metadata/_edit_lock_ = true

[node name="FloorBody" type="StaticBody2D" parent="Walls"]
position = Vector2(0, 520)
scale = Vector2(6.4, 0.75)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/FloorBody"]
position = Vector2(69.1406, 132)
shape = SubResource("RectangleShape2D_ggdbf")
metadata/_edit_lock_ = true

[node name="DragContainer" type="Node2D" parent="."]
unique_name_in_owner = true
z_index = 2

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("14_0wqwg")
volume_db = -23.892
autoplay = true

[node name="Arooga" parent="." instance=ExtResource("15_e4lp2")]
anchors_preset = 0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = -2.0
offset_top = 361.0
offset_right = -2.0
offset_bottom = 361.0
grow_horizontal = 1
grow_vertical = 1

[node name="MoneyHandler" parent="." instance=ExtResource("16_yw5oi")]
initial_player_money = 240

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="LaughMeter" type="Node2D" parent="CanvasLayer"]
script = ExtResource("17_f5mso")

[node name="ScoreLabel" type="Label" parent="CanvasLayer/LaughMeter"]
offset_left = 899.0
offset_top = 496.0
offset_right = 1014.0
offset_bottom = 519.0
text = "Laugh score
"
label_settings = SubResource("LabelSettings_81ycc")

[node name="EndPortal" parent="." instance=ExtResource("18_1clqk")]
position = Vector2(792, 384)

[node name="EndText" parent="." instance=ExtResource("19_adhuh")]
visible = false
z_index = 5
z_as_relative = false
